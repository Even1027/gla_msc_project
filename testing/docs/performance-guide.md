# æ€§èƒ½æµ‹è¯•æ‰§è¡ŒæŒ‡å—

## ğŸ“‹ æµ‹è¯•è„šæœ¬ä½ç½®

```
testing/
â”œâ”€â”€ performance/
â”‚   â”œâ”€â”€ scripts/
â”‚   â”‚   â”œâ”€â”€ baseline-test.sh      # åŸºçº¿æ€§èƒ½æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ concurrent-test.sh    # å¹¶å‘æ€§èƒ½æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ load-test.sh          # è´Ÿè½½æµ‹è¯•
â”‚   â”‚   â””â”€â”€ stress-test.sh        # å‹åŠ›æµ‹è¯•
â”‚   â””â”€â”€ results/                  # æµ‹è¯•ç»“æœå­˜å‚¨
```

## ğŸš€ æ‰§è¡Œæ­¥éª¤

### 1. è¿›å…¥æµ‹è¯•ç›®å½•
```bash
cd testing/performance/scripts
```

### 2. ç»™è„šæœ¬æ‰§è¡Œæƒé™
```bash
chmod +x *.sh
```

### 3. æ‰§è¡ŒåŸºçº¿æµ‹è¯•
```bash
# åŸºæœ¬æ‰§è¡Œï¼ˆé»˜è®¤å‚æ•°ï¼š5åˆ†é’Ÿï¼Œ100è¯·æ±‚/åˆ†é’Ÿï¼‰
./baseline-test.sh

# è‡ªå®šä¹‰å‚æ•°ï¼ˆæŒç»­æ—¶é—´300ç§’ï¼Œ500è¯·æ±‚/åˆ†é’Ÿï¼Œ20å¹¶å‘ç”¨æˆ·ï¼‰
./baseline-test.sh 300 500 20
```

### 4. æ‰§è¡Œå¹¶å‘æµ‹è¯•
```bash
# æµ‹è¯•ç›¸åŒå¹‚ç­‰æ€§é”®çš„å¹¶å‘å¤„ç†
./concurrent-test.sh 10 5 same_key

# æµ‹è¯•ä¸åŒå¹‚ç­‰æ€§é”®çš„å¹¶å‘å¤„ç†
./concurrent-test.sh 20 10 different_keys

# æ··åˆæµ‹è¯•
./concurrent-test.sh 15 8 mixed
```

## ğŸ“Š ç»“æœåˆ†æ

### å…³é”®æŒ‡æ ‡
- **ååé‡**ï¼šæ¯ç§’æˆåŠŸå¤„ç†çš„è¯·æ±‚æ•°
- **å“åº”æ—¶é—´**ï¼šå¹³å‡ã€æœ€å°ã€æœ€å¤§å“åº”æ—¶é—´
- **æˆåŠŸç‡**ï¼šæˆåŠŸè¯·æ±‚å æ€»è¯·æ±‚çš„ç™¾åˆ†æ¯”
- **å¹‚ç­‰æ€§æœ‰æ•ˆæ€§**ï¼šç›¸åŒé”®çš„é‡å¤å¤„ç†ç‡

### ç»“æœæ–‡ä»¶
- `results.csv`ï¼šè¯¦ç»†çš„è¯·æ±‚-å“åº”æ•°æ®
- `summary.txt`ï¼šæ±‡æ€»æŠ¥å‘Š
- `idempotency_analysis.txt`ï¼šå¹‚ç­‰æ€§åˆ†æ

## ğŸ¯ æ€§èƒ½åŸºå‡†ç›®æ ‡

åŸºäºä½ çš„ç ”ç©¶æ–‡æ¡£ï¼Œé¢„æœŸç›®æ ‡ï¼š

| é…ç½®ç±»å‹ | ååé‡ | P99å»¶è¿Ÿ | é”™è¯¯ç‡ |
|---------|--------|---------|--------|
| å¼ºä¸€è‡´æ€§ | 100-300/ç§’ | <500ms | <0.1% |
| å¹³è¡¡é…ç½® | 500-1000/ç§’ | <200ms | <1% |
| æ€§èƒ½ä¼˜åŒ– | 1000+/ç§’ | <50ms | <5% |

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜
1. **æƒé™é”™è¯¯**ï¼šæ‰§è¡Œ `chmod +x *.sh`
2. **ä¾èµ–ç¼ºå¤±**ï¼šå®‰è£… `bc`ã€`jq`ã€`curl`
3. **æœåŠ¡ä¸å¯ç”¨**ï¼šæ£€æŸ¥æœåŠ¡å¥åº·çŠ¶æ€
4. **Redisè¿æ¥å¤±è´¥**ï¼šéªŒè¯RedisæœåŠ¡çŠ¶æ€

### ä¾èµ–å®‰è£…
```bash
# Ubuntu/Debian
sudo apt-get install bc jq curl

# CentOS/RHEL
sudo yum install bc jq curl

# macOS
brew install bc jq curl
```